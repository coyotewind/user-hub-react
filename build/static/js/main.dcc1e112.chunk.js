(this.webpackJsonpuserhub=this.webpackJsonpuserhub||[]).push([[0],{29:function(e,t,n){e.exports=n(60)},34:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(0),c=n.n(r),u=n(27),s=n.n(u),o=n(11),l=n(1);n(34);var i=function(e){var t=e.currentUser,n=e.setCurrentUser,u=e.userList,s=Object(r.useState)(),l=Object(a.a)(s,2),i=l[0],m=l[1];return Object(r.useEffect)((function(){m(u[0])}),[u]),c.a.createElement("header",null,c.a.createElement("h1",null,"Welcome to UserHub"),c.a.createElement("form",{className:"user-select",onSubmit:function(e){e.preventDefault()}},t?c.a.createElement("div",null,c.a.createElement(o.b,{to:"/posts",activeClssName:"current"},"Posts"),c.a.createElement(o.b,{to:"todos",activeClassName:"current"},"Todos"),c.a.createElement("button",{onClick:function(e){m(u[0]),localStorage.removeItem("currentUser"),n(null)}},"Log Out, ",t.username)):c.a.createElement("div",null,c.a.createElement("select",{onChange:function(e){var t=e.target.value,n=u.find((function(e){return e.id==t}));m(n)}},u.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.username)}))),c.a.createElement("button",{onClick:function(e){var t;t=i,localStorage.setItem("currentUser",JSON.stringify(t)),n(i)}},"LOG IN"))))};n(40);var m=function(e){var t=e.currentUser,n=e.userPosts;return c.a.createElement("div",{className:"user-posts"},c.a.createElement("h2",null,"Posts By ",t.username),n.map((function(e){var t=e.id,n=e.title,a=e.body;return c.a.createElement("div",{key:t,className:"post"},c.a.createElement("h3",null,n),c.a.createElement("p",null,a))})))};n(41);var p=function(e){var t=e.currentUser,n=e.userTodos;return c.a.createElement("div",{className:"user-todos"},c.a.createElement("h2",null,"Todos By ",t.username),n.map((function(e){var t=e.id,n=e.title,a=e.completed;return c.a.createElement("div",{key:t,className:"todo"},c.a.createElement("h3",{style:{textDecoration:a?"line-through":"none"}},n))})))},f=n(9),d=n.n(f),h=n(12),v=n(13),E=n.n(v),b="https://jsonplace-univclone.herokuapp.com";function O(){return(O=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(b,"/users"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function j(){return(j=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(b,"/users/").concat(t,"/posts"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function y(){return(y=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(b,"/users/").concat(t,"/todos"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var g=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],u=t[1],s=Object(r.useState)(JSON.parse(localStorage.getItem("currentUser"))),f=Object(a.a)(s,2),d=f[0],h=f[1],v=Object(r.useState)([]),E=Object(a.a)(v,2),b=E[0],g=E[1],U=Object(r.useState)([]),k=Object(a.a)(U,2),w=k[0],S=k[1];return Object(r.useEffect)((function(){(function(){return O.apply(this,arguments)})().then((function(e){u(e)})).catch((function(e){}))}),[]),Object(r.useEffect)((function(){d?(function(e){return j.apply(this,arguments)}(d.id).then((function(e){g(e)})).catch((function(e){})),function(e){return y.apply(this,arguments)}(d.id).then((function(e){S(e)})).catch((function(e){}))):g([])}),[d]),c.a.createElement(o.a,null,c.a.createElement("div",{id:"App"},c.a.createElement(i,{userList:n,currentUser:d,setCurrentUser:h}),d?c.a.createElement("div",null,c.a.createElement(l.d,null,c.a.createElement(l.b,{path:"/posts"},c.a.createElement(m,{userPosts:b,currentUser:d})),c.a.createElement(l.b,null,c.a.createElement(p,{userTodos:w,currentUser:d})),c.a.createElement(l.b,{exact:!0,path:"/"},c.a.createElement("h2",{style:{padding:".5em"}},"Welcome, ",d.username,"!")),c.a.createElement(l.a,{to:"/"}))):c.a.createElement("div",null,c.a.createElement(l.d,null,c.a.createElement(l.b,{exact:!0,path:"/"},c.a.createElement("h2",{style:{padding:".5em"}},"Please log in, above.")),c.a.createElement(l.a,{to:"/"})))))};s.a.render(c.a.createElement(g,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.dcc1e112.chunk.js.map